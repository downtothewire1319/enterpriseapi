<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevAPI Pro - Developer Payment Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #f0f6fc;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            padding: 20px;
        }
        
        /* Header */
        .dev-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid #30363d;
        }
        
        .dev-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .dev-logo-icon {
            background: linear-gradient(45deg, #58a6ff, #1f6feb);
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }
        
        h1 {
            font-size: 2.8rem;
            background: linear-gradient(to right, #58a6ff, #1f6feb);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }
        
        .dev-subtitle {
            color: #8b949e;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        /* Developer Auth Card */
        .auth-card {
            background: rgba(22, 27, 34, 0.9);
            border-radius: 16px;
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid #30363d;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .auth-header {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .auth-icon {
            background: #238636;
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .auth-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #f0f6fc;
        }
        
        .auth-description {
            color: #8b949e;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .auth-input-group {
            display: flex;
            gap: 15px;
        }
        
        .auth-input {
            flex: 1;
            padding: 18px 20px;
            background: #0d1117;
            border: 2px solid #30363d;
            border-radius: 10px;
            color: #f0f6fc;
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
        }
        
        .auth-input:focus {
            outline: none;
            border-color: #58a6ff;
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.2);
            background: #0d1117;
        }
        
        .auth-button {
            background: linear-gradient(45deg, #238636, #2ea043);
            color: white;
            border: none;
            padding: 18px 30px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .auth-button:hover {
            background: linear-gradient(45deg, #2ea043, #3fb950);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(35, 134, 54, 0.3);
        }
        
        .auth-button:active {
            transform: translateY(0);
        }
        
        .auth-message {
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
            display: none;
            align-items: center;
            gap: 10px;
        }
        
        .auth-success {
            background: rgba(35, 134, 54, 0.15);
            color: #3fb950;
            border-left: 4px solid #3fb950;
        }
        
        .auth-error {
            background: rgba(248, 81, 73, 0.15);
            color: #f85149;
            border-left: 4px solid #f85149;
        }
        
        /* Payment Card (Initially Hidden) */
        .payment-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .payment-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .payment-card {
            background: rgba(22, 27, 34, 0.9);
            border-radius: 16px;
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid #30363d;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }
        
        .payment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .payment-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #f0f6fc;
        }
        
        .dev-badge {
            background: linear-gradient(45deg, #58a6ff, #1f6feb);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .price-container {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(13, 17, 23, 0.6);
            border-radius: 12px;
            border: 1px solid #30363d;
        }
        
        .original-price {
            font-size: 1.8rem;
            text-decoration: line-through;
            color: #8b949e;
        }
        
        .discounted-price {
            background: linear-gradient(45deg, #58a6ff, #1f6feb);
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 2rem;
            box-shadow: 0 5px 20px rgba(88, 166, 255, 0.2);
        }
        
        .features {
            list-style: none;
            margin-bottom: 40px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .features li {
            padding: 15px;
            background: rgba(13, 17, 23, 0.6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1rem;
            border: 1px solid #30363d;
        }
        
        .features li i {
            color: #58a6ff;
            width: 20px;
        }
        
        .discount-section {
            background: rgba(13, 17, 23, 0.6);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid #58a6ff;
        }
        
        .discount-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #58a6ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .discount-input-group {
            display: flex;
            gap: 10px;
        }
        
        .discount-input {
            flex: 1;
            padding: 15px 20px;
            background: rgba(22, 27, 34, 0.8);
            border: 2px solid #30363d;
            border-radius: 10px;
            color: #f0f6fc;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            transition: all 0.3s;
        }
        
        .discount-input:focus {
            outline: none;
            border-color: #58a6ff;
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.2);
        }
        
        .apply-discount-btn {
            background: linear-gradient(45deg, #58a6ff, #1f6feb);
            color: white;
            border: none;
            padding: 0 30px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .apply-discount-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(88, 166, 255, 0.3);
        }
        
        .apply-discount-btn:disabled {
            background: #484f58;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .discount-message {
            margin-top: 15px;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            display: none;
            align-items: center;
            gap: 10px;
        }
        
        .discount-success {
            background: rgba(46, 160, 67, 0.15);
            color: #3fb950;
            border-left: 4px solid #3fb950;
        }
        
        .discount-error {
            background: rgba(248, 81, 73, 0.15);
            color: #f85149;
            border-left: 4px solid #f85149;
        }
        
        .payment-btn {
            background: linear-gradient(45deg, #58a6ff, #1f6feb);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.3rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(88, 166, 255, 0.2);
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .payment-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(88, 166, 255, 0.3);
        }
        
        .payment-btn:active {
            transform: translateY(0);
        }
        
        .payment-btn:disabled {
            background: #484f58;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Modal Overlay */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(13, 17, 23, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: #0d1117;
            width: 90%;
            max-width: 500px;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid #30363d;
            transform: translateY(30px);
            transition: transform 0.4s ease;
        }
        
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .modal-title {
            font-size: 1.8rem;
            color: #f0f6fc;
        }
        
        .close-btn {
            background: transparent;
            border: none;
            color: #8b949e;
            font-size: 1.8rem;
            cursor: pointer;
            transition: color 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .close-btn:hover {
            color: #f0f6fc;
            background: rgba(240, 246, 252, 0.05);
        }
        
        .payment-summary {
            background: rgba(22, 27, 34, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid #30363d;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #30363d;
        }
        
        .summary-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
            font-weight: 700;
            font-size: 1.3rem;
        }
        
        .summary-label {
            color: #8b949e;
        }
        
        .summary-value {
            font-weight: 600;
        }
        
        .discount-applied {
            color: #3fb950;
        }
        
        .total-amount {
            color: #58a6ff;
            font-size: 1.6rem;
        }
        
        .modal-payment-btn {
            background: linear-gradient(45deg, #58a6ff, #1f6feb);
            color: white;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(88, 166, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .modal-payment-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(88, 166, 255, 0.3);
        }
        
        .footer-note {
            text-align: center;
            margin-top: 30px;
            color: #8b949e;
            font-size: 0.9rem;
        }
        
        .secure-payment {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            color: #3fb950;
        }
        
        .developer-id-display {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 20px;
            padding: 15px;
            background: rgba(13, 17, 23, 0.6);
            border-radius: 10px;
            border: 1px solid #30363d;
        }
        
        .id-label {
            color: #8b949e;
            font-size: 1rem;
        }
        
        .id-value {
            color: #58a6ff;
            font-weight: 700;
            font-size: 1.2rem;
            font-family: 'Courier New', monospace;
        }
        
        .logout-btn {
            background: transparent;
            border: 1px solid #f85149;
            color: #f85149;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .logout-btn:hover {
            background: rgba(248, 81, 73, 0.1);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .auth-card, .payment-card {
                padding: 25px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .auth-input-group {
                flex-direction: column;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .payment-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .price-container {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .modal {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="dev-header">
            <div class="dev-logo">
                <div class="dev-logo-icon">
                    <i class="fas fa-terminal"></i>
                </div>
                <h1>API Pro Enterprise</h1>
            </div>
            <p class="dev-subtitle">Exclusive developer portal for API access. Authentication required to proceed with payment.</p>
        </header>
        
        <!-- Developer Authentication Card -->
        <div class="auth-card" id="authCard">
            <div class="auth-header">
                <div class="auth-icon">
                    <i class="fas fa-key"></i>
                </div>
                <div>
                    <div class="auth-title">Developer Authentication</div>
                    <div class="auth-description">Enter your developer ID to access the payment portal. This is required to proceed.</div>
                </div>
            </div>
            
            <div class="auth-form">
                <div class="auth-input-group">
                    <input type="text" class="auth-input" id="developerId" placeholder="Enter Developer ID" maxlength="20">
                    <button class="auth-button" id="loginButton">
                        <i class="fas fa-sign-in-alt"></i> Authenticate
                    </button>
                </div>
                <div class="auth-message" id="authMessage"></div>
            </div>
            
            <div class="auth-description">
                <i class="fas fa-info-circle"></i> 
                <strong>Note:</strong> Only authorized developers with valid IDs can access this portal.
            </div>
        </div>
        
        <!-- Payment Section (Initially Hidden) -->
        <div class="payment-section" id="paymentSection">
            <div class="developer-id-display">
                <div>
                    <div class="id-label">Logged in as Developer</div>
                    <div class="id-value" id="loggedInId">ID-1319</div>
                </div>
                <button class="logout-btn" id="logoutButton">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
            
            <div class="payment-card">
                <div class="payment-header">
                    <div class="payment-title">Enterprise API Package</div>
                    <div class="dev-badge">
                        <i class="fas fa-code"></i> Developer Exclusive
                    </div>
                </div>
                
                <div class="price-container">
                    <div class="original-price">$450.00</div>
                    <div class="discounted-price" id="finalPrice">$450.00</div>
                </div>
                
                <div class="discount-section">
                    <div class="discount-title">
                        <i class="fas fa-tag"></i> Developer Discount Code
                    </div>
                    <div class="discount-input-group">
                        <input type="text" class="discount-input" id="discountCode" placeholder="Enter discount code (e.g., ALPHA250)" maxlength="20" disabled>
                        <button class="apply-discount-btn" id="applyDiscount" disabled>Apply</button>
                    </div>
                    <div class="discount-message" id="discountMessage"></div>
                </div>
                
                <ul class="features">
                    <li><i class="fas fa-check-circle"></i> <span>10,000 API calls per day</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>24/7 Premium Support</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Real-time Analytics Dashboard</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>99.9% Uptime SLA</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Advanced Security Features</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Priority Access to New Features</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Webhook Support</span></li>
                    <li><i class="fas fa-check-circle"></i> <span>Custom Rate Limiting</span></li>
                </ul>
                
                <button id="paymentButton" class="payment-btn" disabled>
                    <i class="fas fa-credit-card"></i> PROCEED TO PAYMENT
                </button>
            </div>
            
            <p class="footer-note">Your payment is secured with 256-bit SSL encryption. You'll receive a confirmation email.</p>
            <div class="secure-payment">
                <i class="fas fa-shield-alt"></i>
                <span>Secure Payment | Developer Exclusive Portal</span>
            </div>
        </div>
    </div>
    
    <!-- Payment Modal -->
    <div class="modal-overlay" id="paymentModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Complete Your Purchase</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            
            <div class="payment-summary">
                <div class="summary-row">
                    <span class="summary-label">Original Price:</span>
                    <span class="summary-value">$450.00</span>
                </div>
                <div class="summary-row" id="discountSummaryRow" style="display: none;">
                    <span class="summary-label">Discount Applied:</span>
                    <span class="summary-value discount-applied" id="discountAmount">-$0.00</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">Total Amount:</span>
                    <span class="summary-value total-amount" id="modalTotalAmount">$450.00</span>
                </div>
            </div>
            
            <button class="modal-payment-btn" id="confirmPayment">
                <i class="fas fa-lock"></i> PAY <span id="confirmAmount">$450.00</span>
            </button>
            
            <p class="footer-note">Your payment will be processed securely. Developer ID: <span id="modalDevId">ID-1319</span></p>
        </div>
    </div>

    <script>
        // Application State
        let isAuthenticated = false;
        let developerId = "";
        let originalPrice = 450;
        let discountApplied = false;
        let discountValue = 0;
        let finalPrice = originalPrice;
        
        // DOM Elements
        const authCard = document.getElementById('authCard');
        const paymentSection = document.getElementById('paymentSection');
        const developerIdInput = document.getElementById('developerId');
        const loginButton = document.getElementById('loginButton');
        const authMessage = document.getElementById('authMessage');
        const logoutButton = document.getElementById('logoutButton');
        const loggedInIdElement = document.getElementById('loggedInId');
        const modalDevId = document.getElementById('modalDevId');
        
        const paymentButton = document.getElementById('paymentButton');
        const paymentModal = document.getElementById('paymentModal');
        const closeModal = document.getElementById('closeModal');
        const confirmPayment = document.getElementById('confirmPayment');
        const applyDiscountBtn = document.getElementById('applyDiscount');
        const discountCodeInput = document.getElementById('discountCode');
        const discountMessage = document.getElementById('discountMessage');
        const finalPriceElement = document.getElementById('finalPrice');
        const modalTotalAmount = document.getElementById('modalTotalAmount');
        const discountAmountElement = document.getElementById('discountAmount');
        const discountSummaryRow = document.getElementById('discountSummaryRow');
        const confirmAmountElement = document.getElementById('confirmAmount');
        
        // Developer Authentication
        loginButton.addEventListener('click', authenticateDeveloper);
        developerIdInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                authenticateDeveloper();
            }
        });
        
        function authenticateDeveloper() {
            const id = developerIdInput.value.trim().toUpperCase();
            
            // Reset message
            authMessage.style.display = 'none';
            authMessage.className = 'auth-message';
            
            // Validate ID
            if (!id) {
                showAuthMessage('Please enter your Developer ID', 'error');
                return;
            }
            
            // Check if it's the valid ID (ID-1319)
            if (id === 'ID-1319') {
                isAuthenticated = true;
                developerId = id;
                
                // Update UI
                showAuthMessage('Authentication successful! Welcome, Developer.', 'success');
                loggedInIdElement.textContent = id;
                modalDevId.textContent = id;
                
                // Enable payment section
                setTimeout(() => {
                    authCard.style.display = 'none';
                    paymentSection.classList.add('active');
                    
                    // Enable discount and payment buttons
                    discountCodeInput.disabled = false;
                    applyDiscountBtn.disabled = false;
                    paymentButton.disabled = false;
                }, 1000);
                
                // Clear the input
                developerIdInput.value = '';
            } else {
                showAuthMessage('Invalid Developer ID. Access denied.', 'error');
                isAuthenticated = false;
                
                // Disable everything
                discountCodeInput.disabled = true;
                applyDiscountBtn.disabled = true;
                paymentButton.disabled = true;
            }
        }
        
        function showAuthMessage(message, type) {
            authMessage.textContent = message;
            authMessage.className = `auth-message auth-${type}`;
            authMessage.style.display = 'flex';
            
            // Auto-hide success messages after 3 seconds
            if (type === 'success') {
                setTimeout(() => {
                    authMessage.style.display = 'none';
                }, 3000);
            }
        }
        
        // Logout functionality
        logoutButton.addEventListener('click', () => {
            isAuthenticated = false;
            developerId = "";
            
            // Reset payment section
            paymentSection.classList.remove('active');
            setTimeout(() => {
                authCard.style.display = 'flex';
                paymentSection.style.display = 'none';
            }, 300);
            
            // Reset all payment states
            resetPaymentState();
            
            // Show logout message
            showAuthMessage('You have been logged out successfully.', 'success');
            setTimeout(() => {
                authMessage.style.display = 'none';
            }, 2000);
        });
        
        // Apply discount code (only works if authenticated)
        applyDiscountBtn.addEventListener('click', applyDiscount);
        
        // Also apply discount when pressing Enter in the discount input
        discountCodeInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !applyDiscountBtn.disabled) {
                applyDiscount();
            }
        });
        
        function applyDiscount() {
            if (!isAuthenticated) {
                showDiscountMessage('Authentication required to apply discount', 'error');
                return;
            }
            
            const code = discountCodeInput.value.trim().toUpperCase();
            
            // Reset message
            discountMessage.style.display = 'none';
            discountMessage.className = 'discount-message';
            
            // Validate discount code
            if (!code) {
                showDiscountMessage('Please enter a discount code', 'error');
                return;
            }
            
            // Check if it's the valid discount code
            if (code === 'ALPHA250') {
                discountApplied = true;
                discountValue = 250;
                finalPrice = originalPrice - discountValue;
                
                // Update UI
                finalPriceElement.textContent = `$${finalPrice}.00`;
                showDiscountMessage(`Developer discount applied! $${discountValue} off your purchase.`, 'success');
                
                // Update the button text
                paymentButton.innerHTML = `<i class="fas fa-credit-card"></i> PAY $${finalPrice}.00`;
                
                // Clear the input
                discountCodeInput.value = '';
            } else {
                showDiscountMessage('Invalid discount code. Please try again.', 'error');
                discountApplied = false;
                discountValue = 0;
                finalPrice = originalPrice;
                finalPriceElement.textContent = `$${finalPrice}.00`;
                paymentButton.innerHTML = `<i class="fas fa-credit-card"></i> PROCEED TO PAYMENT`;
            }
        }
        
        function showDiscountMessage(message, type) {
            discountMessage.textContent = message;
            discountMessage.className = `discount-message discount-${type}`;
            discountMessage.style.display = 'flex';
            
            // Auto-hide error messages after 5 seconds
            if (type === 'error') {
                setTimeout(() => {
                    discountMessage.style.display = 'none';
                }, 5000);
            }
        }
        
        // Open payment modal when clicking the payment button
        paymentButton.addEventListener('click', () => {
            if (!isAuthenticated) {
                showDiscountMessage('Please authenticate first', 'error');
                return;
            }
            
            updateModalPrices();
            paymentModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });
        
        // Close modal when clicking the close button
        closeModal.addEventListener('click', () => {
            paymentModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });
        
        // Close modal when clicking outside the modal
        paymentModal.addEventListener('click', (e) => {
            if (e.target === paymentModal) {
                paymentModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
        
        function updateModalPrices() {
            if (discountApplied) {
                modalTotalAmount.textContent = `$${finalPrice}.00`;
                discountAmountElement.textContent = `-$${discountValue}.00`;
                discountSummaryRow.style.display = 'flex';
            } else {
                modalTotalAmount.textContent = `$${originalPrice}.00`;
                discountSummaryRow.style.display = 'none';
            }
            
            confirmAmountElement.textContent = `$${finalPrice}.00`;
        }
        
        // Handle payment confirmation
        confirmPayment.addEventListener('click', () => {
            // Show loading state
            confirmPayment.innerHTML = '<i class="fas fa-spinner fa-spin"></i> PROCESSING PAYMENT...';
            confirmPayment.disabled = true;
            
            // Simulate payment processing
            setTimeout(() => {
                // In a real app, this would process the payment via a payment gateway
                alert(`Payment of $${finalPrice}.00 successful!\nDeveloper ID: ${developerId}\nTransaction ID: DEV-${Date.now()}`);
                
                // Reset button and close modal
                confirmPayment.innerHTML = '<i class="fas fa-lock"></i> PAY <span id="confirmAmount">$' + finalPrice + '.00</span>';
                confirmPayment.disabled = false;
                paymentModal.classList.remove('active');
                document.body.style.overflow = 'auto';
                
                // Reset payment state after successful payment
                resetPaymentState();
            }, 2000);
        });
        
        function resetPaymentState() {
            discountApplied = false;
            discountValue = 0;
            finalPrice = originalPrice;
            finalPriceElement.textContent = `$${finalPrice}.00`;
            paymentButton.innerHTML = `<i class="fas fa-credit-card"></i> PROCEED TO PAYMENT`;
            discountCodeInput.value = '';
            discountMessage.style.display = 'none';
            
            // Disable discount and payment buttons if not authenticated
            if (!isAuthenticated) {
                discountCodeInput.disabled = true;
                applyDiscountBtn.disabled = true;
                paymentButton.disabled = true;
            }
        }
        
        // Close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && paymentModal.classList.contains('active')) {
                paymentModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
        
        // Initialize with disabled state
        discountCodeInput.disabled = true;
        applyDiscountBtn.disabled = true;
        paymentButton.disabled = true;
    </script>
</body>
</html>